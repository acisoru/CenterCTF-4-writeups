import ctypes
import random
import os
from pathlib import Path
BASE_DIR = Path(__file__).absolute().resolve().parent

lib = ctypes.cdll.LoadLibrary(os.path.join(BASE_DIR, "libminijit_old_with_print.so"))

lib.execute_program_c.argtypes = [ctypes.c_char_p]
lib.execute_program_c.restype = ctypes.c_uint64


with open('prog.txt', 'r') as f:
	p = f.read()
result = lib.execute_program_c(p.encode('utf-8'))
print('[PYTHON] Result:', result)